<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>InMatch | Football Highlights</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            brandGreen: '#0f7b3f',
            brandYellow: '#ffd24a',
            darkBg: '#0b0b0b',
            cardBg: '#0f1724',
          },
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          }
        }
      }
    }
  </script>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.0/css/all.min.css" />

  <!-- ScrollReveal -->
  <script src="https://unpkg.com/scrollreveal"></script>
</head>

<body class="bg-darkBg text-white font-sans">

  <!-- HEADER -->
  <header class="glass fixed w-full top-0 z-50 border-b border-gray-800 bg-black/70 backdrop-blur">
    <div class="max-w-7xl mx-auto flex items-center justify-between px-4 h-16">
      <!-- Logo -->
      <a href="index.html" class="flex items-center gap-3">
        <img src="./images/inmatch logo.png" class="h-10" alt="InMatch">
        <span class="font-bold tracking-wide">InMatch</span>
      </a>

      <!-- Nav -->
      <nav class="hidden md:flex items-center gap-6 text-sm">
        <a href="#" class="hover:text-brandYellow">Home</a>
        <a href="#" class="hover:text-brandYellow">Leagues</a>
        <a href="#" class="hover:text-brandYellow">Highlights</a>
        <a href="#" class="hover:text-brandYellow">Live Scores</a>
      </nav>

      <!-- Right side -->
      <div class="flex items-center gap-4">
        <!-- Admin -->
        <a href="./admin/admin-login.html" class="hover:text-brandYellow">
          <i class="fas fa-user text-xl"></i>
        </a>
        <!-- Dark mode -->
        <button id="toggle-theme" class="hover:text-brandYellow">
          <i class="fas fa-moon text-xl"></i>
        </button>
      </div>
    </div>
  </header>

  <main class="pt-24">

    <!-- HERO -->
    <section class="max-w-7xl mx-auto px-4 grid md:grid-cols-2 gap-10 items-center">
      <div>
        <h1 class="text-4xl md:text-5xl font-extrabold text-brandGreen leading-tight">
          The #1 Place for African Football Highlights
        </h1>
        <p class="mt-4 text-gray-300">
          Watch football highlights from Africa's biggest leagues and teams. Fast, focused, and built for fans.
        </p>

        <div class="mt-6 flex gap-3 flex-wrap">
          <a href="#" class="px-5 py-3 bg-white text-black rounded-md font-semibold">Explore More Leagues</a>
          <a href="#" class="px-5 py-3 bg-brandYellow text-black rounded-md font-semibold">Today's Matches</a>
        </div>
      </div>

      <div class="rounded-xl overflow-hidden shadow-lg">
        <img src="https://images.unsplash.com/photo-1521412644187-c49fa049e84d?q=80&w=1400&auto=format&fit=crop" alt="hero" class="w-full object-cover h-72 md:h-full"/>
      </div>
    </section>

    <!-- TRENDING HIGHLIGHTS -->
    <section class="max-w-7xl mx-auto px-4 mt-16">
      <div class="flex justify-between items-center">
        <h2 class="text-2xl font-semibold">Trending Highlights</h2>
        <a href="#" class="text-sm text-gray-400 hover:text-brandYellow">View all</a>
      </div>

      <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <article class="bg-cardBg rounded-lg overflow-hidden shadow hover:scale-[1.02] transition">
          <img src="https://images.unsplash.com/photo-1508804185872-d7badad00f7d?q=80&w=1200&auto=format&fit=crop" class="h-44 w-full object-cover"/>
          <div class="p-4">
            <h3 class="font-semibold">Manchester United 2 - 1 Chelsea</h3>
            <p class="text-sm text-gray-400">Premier League</p>
          </div>
        </article>

        <article class="bg-cardBg rounded-lg overflow-hidden shadow hover:scale-[1.02] transition">
          <img src="https://images.unsplash.com/photo-1542736667-069246bdbc16?q=80&w=1200&auto=format&fit=crop" class="h-44 w-full object-cover"/>
          <div class="p-4">
            <h3 class="font-semibold">Barcelona 3 - 0 Real Madrid</h3>
            <p class="text-sm text-gray-400">La Liga</p>
          </div>
        </article>

        <article class="bg-cardBg rounded-lg overflow-hidden shadow hover:scale-[1.02] transition">
          <img src="https://images.unsplash.com/photo-1517927033932-b7d2e46f0f24?q=80&w=1200&auto=format&fit=crop" class="h-44 w-full object-cover"/>
          <div class="p-4">
            <h3 class="font-semibold">PSG 1 - 0 Lyon</h3>
            <p class="text-sm text-gray-400">Ligue 1</p>
          </div>
        </article>
      </div>
    </section>

    <!-- LEAGUES -->
    <section class="max-w-7xl mx-auto px-4 mt-16">
      <h2 class="text-2xl font-semibold">Leagues</h2>
      <div id="leagues-container" class="mt-6 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-6">
        <!-- Leagues injected dynamically -->
      </div>
      <div class="text-center mt-8">
        <button id="show-more-btn" class="px-5 py-3 bg-brandYellow text-black rounded-md font-semibold">Show More Leagues</button>
      </div>
    </section>

  </main>

  <!-- FOOTER -->
  <footer class="bg-black py-10 text-center text-sm mt-20">
    <div class="mb-4 flex justify-center gap-6 text-xl">
      <a href="#" class="hover:text-brandGreen"><i class="fab fa-facebook-f"></i></a>
      <a href="#" class="hover:text-brandGreen"><i class="fab fa-twitter"></i></a>
      <a href="https://www.instagram.com/inmatchdotcom" class="hover:text-brandGreen"><i class="fab fa-instagram"></i></a>
      <a href="#" class="hover:text-brandGreen"><i class="fab fa-youtube"></i></a>
    </div>
    <p class="text-gray-400">&copy; 2025 InMatch. All rights reserved.</p>
  </footer>

  <!-- Mobile Bottom Nav -->
  <nav class="fixed bottom-4 left-1/2 -translate-x-1/2 w-[92%] max-w-md bg-cardBg rounded-full p-2 flex justify-around md:hidden">
    <a href="#" class="text-sm text-gray-300 hover:text-brandYellow">Home</a>
    <a href="#" class="text-sm text-gray-300 hover:text-brandYellow">Highlights</a>
    <a href="#" class="text-sm text-gray-300 hover:text-brandYellow">Leagues</a>
    <a href="#" class="text-sm text-gray-300 hover:text-brandYellow">Profile</a>
  </nav>

  <!-- SCRIPT -->
  <script>
    const leaguesContainer = document.getElementById('leagues-container');
    const showMoreBtn = document.getElementById('show-more-btn');
    const themeToggle = document.getElementById('toggle-theme');
    const html = document.documentElement;
    const API_BASE = "https://inmatch-backend-0csv.onrender.com";

    let allLeagues = [];
    let displayedCount = 0;
    const STEP = 6;

    async function fetchLeagues() {
      try {
        const res = await fetch(`${API_BASE}/api/leagues`);
        allLeagues = await res.json();
      } catch (err) {
        leaguesContainer.innerHTML = '<p class="text-red-500">Error loading leagues.</p>';
      }
    }

    function renderMoreLeagues() {
      const nextBatch = allLeagues.slice(displayedCount, displayedCount + STEP);
      nextBatch.forEach(league => {
        const card = document.createElement('a');
        card.href = `match.html?leagueId=${league._id}`;
        card.className = 'bg-cardBg rounded-lg p-4 flex flex-col items-center hover:scale-[1.05] transition';
        card.innerHTML = `
          <div class="w-16 h-16 bg-gray-700 rounded-full overflow-hidden mb-3">
            <img src="${league.logo}" alt="${league.name}" class="w-full h-full object-cover"/>
          </div>
          <h3 class="text-sm">${league.name}</h3>
        `;
        leaguesContainer.appendChild(card);
      });
      displayedCount += nextBatch.length;
      if (displayedCount >= allLeagues.length) {
        showMoreBtn.disabled = true;
        showMoreBtn.classList.add('opacity-50','cursor-not-allowed');
        showMoreBtn.textContent = 'No More Leagues';
      }
    }

    showMoreBtn.addEventListener('click', async () => {
      await fetchLeagues();
      renderMoreLeagues();
    });

    themeToggle.addEventListener('click', () => {
      html.classList.toggle('dark');
      const icon = themeToggle.querySelector('i');
      icon.classList.toggle('fa-moon');
      icon.classList.toggle('fa-sun');
    });

    (async () => {
      await fetchLeagues();
      renderMoreLeagues();
    })();
  </script>
</body>
</html>
